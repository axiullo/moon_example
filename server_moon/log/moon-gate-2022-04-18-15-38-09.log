2022-04-18 15:38:09.537 | 3084      | INFO  | INIT with 6 workers.
2022-04-18 15:38:09.537 | 3084      | INFO  | WORKER-1 RUN
2022-04-18 15:38:09.537 | 3084      | INFO  | WORKER-2 RUN
2022-04-18 15:38:09.537 | 20632     | INFO  | WORKER-1 START
2022-04-18 15:38:09.537 | 3084      | INFO  | WORKER-3 RUN
2022-04-18 15:38:09.537 | 20660     | INFO  | WORKER-2 START
2022-04-18 15:38:09.537 | 3084      | INFO  | WORKER-4 RUN
2022-04-18 15:38:09.537 | 10768     | INFO  | WORKER-3 START
2022-04-18 15:38:09.538 | 3084      | INFO  | WORKER-5 RUN
2022-04-18 15:38:09.538 | 12928     | INFO  | WORKER-4 START
2022-04-18 15:38:09.538 | 3084      | INFO  | WORKER-6 RUN
2022-04-18 15:38:09.538 | 7472      | INFO  | WORKER-5 START
2022-04-18 15:38:09.538 | 20632     | INFO  |  new_service 16777217
2022-04-18 15:38:09.538 | 23320     | INFO  | WORKER-6 START
2022-04-18 15:38:09.538 | 3084      | INFO  | server::run() state = 2
2022-04-18 15:38:09.555 | :01000001 | INFO  | start server	(main.lua:13)
2022-04-18 15:38:09.556 | :01000001 | INFO  | [WORKER 1] new service [bootstrap]
2022-04-18 15:38:09.556 | 20632     | INFO  |  new_service 16777218
2022-04-18 15:38:09.564 | :01000002 | INFO  | gate server start	gate1	0.0.0.0	20520	(service_gate.lua:136)
2022-04-18 15:38:09.564 | :01000002 | INFO  | [WORKER 1] new service [gate1]
2022-04-18 15:38:09.564 | 20660     | INFO  |  new_service 33554433
2022-04-18 15:38:09.567 | :02000001 | INFO  | gate server start	gate2	0.0.0.0	20521	(service_gate.lua:136)
2022-04-18 15:38:09.567 | :02000001 | INFO  | [WORKER 2] new service [gate2]
2022-04-18 15:38:09.567 | 10768     | INFO  |  new_service 50331649
2022-04-18 15:38:09.569 | :03000001 | INFO  | gate server start	gate3	0.0.0.0	20522	(service_gate.lua:136)
2022-04-18 15:38:09.569 | :03000001 | INFO  | [WORKER 3] new service [gate3]
2022-04-18 15:38:09.570 | 12928     | INFO  |  new_service 67108865
2022-04-18 15:38:09.573 | :04000001 | INFO  | ingate server start	ingate1	127.0.0.1	20620	(service_ingate.lua:107)
2022-04-18 15:38:09.573 | :04000001 | INFO  | [WORKER 4] new service [ingate1]
2022-04-18 15:38:09.573 | 7472      | INFO  |  new_service 83886081
2022-04-18 15:38:09.576 | :05000001 | INFO  | ingate server start	ingate2	127.0.0.1	20621	(service_ingate.lua:107)
2022-04-18 15:38:09.576 | :05000001 | INFO  | [WORKER 5] new service [ingate2]
2022-04-18 15:38:14.573 | :04000001 | ERROR | dispatch ingate1 error:
./lualib/moon.lua:183: moon send unknown PTYPE[nil] message
stack traceback:
	[C]: in function 'error'
	./lualib/moon.lua:183: in function 'mooncore.raw_send'
	service_ingate.lua:110: in local 'v'
	./lualib/moon.lua:614: in local 'dispatch'
	./lualib/moon.lua:429: in function <./lualib/moon.lua:390>
2022-04-18 15:38:14.575 | :05000001 | ERROR | dispatch ingate2 error:
./lualib/moon.lua:183: moon send unknown PTYPE[nil] message
stack traceback:
	[C]: in function 'error'
	./lualib/moon.lua:183: in function 'mooncore.raw_send'
	service_ingate.lua:110: in local 'v'
	./lualib/moon.lua:614: in local 'dispatch'
	./lualib/moon.lua:429: in function <./lualib/moon.lua:390>
2022-04-18 15:38:30.771 | :04000001 | INFO  | accept 	6	nil	127.0.0.1:8544	2	(service_ingate.lua:55)
2022-04-18 15:38:30.772 | :04000001 | INFO  | error	G:\ddd\moon_example\server_moon\ingate_commands.lua:11: attempt to index a nil value (local 'msg_data')
stack traceback:
	G:\ddd\moon_example\server_moon\ingate_commands.lua:11: in local 'func',	 params: fd = 6;
	service_ingate.lua:39: in function <service_ingate.lua:27>,	 params: fd = 6;
	[C]: in function 'xpcall',	 params:
	service_ingate.lua:78: in function <service_ingate.lua:77>,	 params:
	[C]: in function 'pcall',	 params:
	./lualib/moon.lua:281: in upvalue 'invoke',	 params: co = thread: 00000194408F20D8;
	./lualib/moon.lua:293: in function <./lualib/moon.lua:291>,	 params: fn = function: 0000019443130CE0;	(service_ingate.lua:81)
2022-04-18 15:38:30.772 | :05000001 | INFO  | accept 	7	nil	127.0.0.1:8545	2	(service_ingate.lua:55)
2022-04-18 15:38:30.772 | :05000001 | INFO  | error	G:\ddd\moon_example\server_moon\ingate_commands.lua:11: attempt to index a nil value (local 'msg_data')
stack traceback:
	G:\ddd\moon_example\server_moon\ingate_commands.lua:11: in local 'func',	 params: fd = 7;
	service_ingate.lua:39: in function <service_ingate.lua:27>,	 params: fd = 7;
	[C]: in function 'xpcall',	 params:
	service_ingate.lua:78: in function <service_ingate.lua:77>,	 params:
	[C]: in function 'pcall',	 params:
	./lualib/moon.lua:281: in upvalue 'invoke',	 params: co = thread: 00000194408F2998;
	./lualib/moon.lua:293: in function <./lualib/moon.lua:291>,	 params: fn = function: 000001944312FD90;	(service_ingate.lua:81)
2022-04-18 15:38:37.423 | 3084      | WARN  | Received signal code 100 (server.cpp:62)
2022-04-18 15:38:37.423 | :04000001 | INFO  | [WORKER 4] destroy service [ingate1] 
2022-04-18 15:38:37.423 | :05000001 | INFO  | [WORKER 5] destroy service [ingate2] 
2022-04-18 15:38:37.423 | :03000001 | INFO  | [WORKER 3] destroy service [gate3] 
2022-04-18 15:38:37.423 | :02000001 | INFO  | [WORKER 2] destroy service [gate2] 
2022-04-18 15:38:37.423 | :01000001 | INFO  | [WORKER 1] destroy service [bootstrap] 
2022-04-18 15:38:37.423 | :01000002 | INFO  | [WORKER 1] destroy service [gate1] 
2022-04-18 15:38:37.425 | 23320     | INFO  | WORKER-6 STOP
2022-04-18 15:38:37.425 | 7472      | INFO  | WORKER-5 STOP
2022-04-18 15:38:37.425 | 12928     | INFO  | WORKER-4 STOP
2022-04-18 15:38:37.425 | 10768     | INFO  | WORKER-3 STOP
2022-04-18 15:38:37.425 | 20660     | INFO  | WORKER-2 STOP
2022-04-18 15:38:37.425 | 20632     | INFO  | WORKER-1 STOP
2022-04-18 15:38:37.425 | 3084      | INFO  | STOP
