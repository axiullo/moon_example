2022-04-19 16:57:50.484 | 11208     | INFO  | INIT with 6 workers.
2022-04-19 16:57:50.484 | 11208     | INFO  | WORKER-1 RUN
2022-04-19 16:57:50.485 | 11208     | INFO  | WORKER-2 RUN
2022-04-19 16:57:50.485 | 23452     | INFO  | WORKER-1 START
2022-04-19 16:57:50.485 | 11208     | INFO  | WORKER-3 RUN
2022-04-19 16:57:50.486 | 13640     | INFO  | WORKER-2 START
2022-04-19 16:57:50.486 | 11208     | INFO  | WORKER-4 RUN
2022-04-19 16:57:50.486 | 12820     | INFO  | WORKER-3 START
2022-04-19 16:57:50.487 | 11208     | INFO  | WORKER-5 RUN
2022-04-19 16:57:50.487 | 5952      | INFO  | WORKER-4 START
2022-04-19 16:57:50.487 | 11208     | INFO  | WORKER-6 RUN
2022-04-19 16:57:50.487 | 9928      | INFO  | WORKER-5 START
2022-04-19 16:57:50.488 | 23452     | INFO  |  new_service 16777217
2022-04-19 16:57:50.488 | 8984      | INFO  | WORKER-6 START
2022-04-19 16:57:50.488 | 11208     | INFO  | server::run() state = 2
2022-04-19 16:57:50.498 | :01000001 | INFO  | start server	(main.lua:13)
2022-04-19 16:57:50.498 | :01000001 | INFO  | [WORKER 1] new service [bootstrap]
2022-04-19 16:57:50.498 | 23452     | INFO  |  new_service 16777218
2022-04-19 16:57:50.507 | :01000002 | INFO  | gate server start	gate1	10.6.60.234	20520	(service_gate.lua:136)
2022-04-19 16:57:50.507 | :01000002 | INFO  | [WORKER 1] new service [gate1]
2022-04-19 16:57:50.507 | 13640     | INFO  |  new_service 33554433
2022-04-19 16:57:50.509 | :02000001 | INFO  | gate server start	gate2	10.6.60.234	20521	(service_gate.lua:136)
2022-04-19 16:57:50.509 | :02000001 | INFO  | [WORKER 2] new service [gate2]
2022-04-19 16:57:50.509 | 12820     | INFO  |  new_service 50331649
2022-04-19 16:57:50.512 | :03000001 | INFO  | gate server start	gate3	10.6.60.234	20522	(service_gate.lua:136)
2022-04-19 16:57:50.512 | :03000001 | INFO  | [WORKER 3] new service [gate3]
2022-04-19 16:57:50.512 | 5952      | INFO  |  new_service 67108865
2022-04-19 16:57:50.515 | :04000001 | INFO  | ingate server start	ingate1	127.0.0.1	20620	(service_ingate.lua:112)
2022-04-19 16:57:50.515 | :04000001 | INFO  | [WORKER 4] new service [ingate1]
2022-04-19 16:57:50.516 | 9928      | INFO  |  new_service 83886081
2022-04-19 16:57:50.518 | :05000001 | INFO  | ingate server start	ingate2	127.0.0.1	20621	(service_ingate.lua:112)
2022-04-19 16:57:50.518 | :05000001 | INFO  | [WORKER 5] new service [ingate2]
2022-04-19 16:57:53.883 | :04000001 | INFO  | accept 	6	nil	127.0.0.1:3294	2	(service_ingate.lua:61)
2022-04-19 16:57:53.883 | :04000001 | INFO  | sys	regist_server	6	login	login1	(G:\ddd\moon_example\server_moon\ingate_commands.lua:25)
2022-04-19 16:57:53.883 | :05000001 | INFO  | accept 	7	nil	127.0.0.1:3295	2	(service_ingate.lua:61)
2022-04-19 16:57:53.883 | :04000001 | INFO  | error1	G:\ddd\moon_example\server_moon\ingate_commands.lua:31: attempt to index a nil value (global 'msend')
stack traceback:
	G:\ddd\moon_example\server_moon\ingate_commands.lua:31: in function 'ingate_commands.xxx',	 params:
	G:\ddd\moon_example\server_moon\ingate_commands.lua:27: in function <G:\ddd\moon_example\server_moon\ingate_commands.lua:14>,	 params: fd = 6; msg_data = table: 000001AA3A0FEC90; base_name = login; name = login1; type_list = table: 000001AA3A0FEC10;
	[C]: in function 'xpcall',	 params:
	service_ingate.lua:41: in function <service_ingate.lua:27>,	 params: fd = 6; src_msg = regist_server%{"name":"login1","base_name":"login"}; cmd = regist_server; nextpos = 15; func = function: 000001AA3A0DBD60; str_data = {"name":"login1","base_name":"login"}; json_data = table: 000001AA3A0FEC90;
	[C]: in function 'xpcall',	 params:
	service_ingate.lua:84: in local 'f',	 params: fd = 6; msg = userdata: 0000006C20DFF850; src_msg = ; index = 3; nextpos = 3; func = function: 000001AA3A0E5B40;
	./lualib/moon\socket.lua:126: in local 'dispatch',	 params: msg = userdata: 0000006C20DFF850; fd = 6; sdt = 3; f = function: 000001AA3A0E5910;
	./lualib/moon.lua:431: in function <./lualib/moon.lua:392>,	 params: msg = userdata: 0000006C20DFF850; PTYPE = 4; p = table: 000001AA3A0D92A0; sender = 6; session = 0; sz = userdata: 000001AA39386E6E; len = 54; dispatch = function: 000001AA3A0D9820;	(service_ingate.lua:44)
2022-04-19 16:57:53.883 | :05000001 | INFO  | sys	regist_server	7	login	login1	(G:\ddd\moon_example\server_moon\ingate_commands.lua:25)
2022-04-19 16:57:53.884 | :05000001 | INFO  | error1	G:\ddd\moon_example\server_moon\ingate_commands.lua:31: attempt to index a nil value (global 'msend')
stack traceback:
	G:\ddd\moon_example\server_moon\ingate_commands.lua:31: in function 'ingate_commands.xxx',	 params:
	G:\ddd\moon_example\server_moon\ingate_commands.lua:27: in function <G:\ddd\moon_example\server_moon\ingate_commands.lua:14>,	 params: fd = 7; msg_data = table: 000001AA3A0FCB10; base_name = login; name = login1; type_list = table: 000001AA3A0FC290;
	[C]: in function 'xpcall',	 params:
	service_ingate.lua:41: in function <service_ingate.lua:27>,	 params: fd = 7; src_msg = regist_server%{"name":"login1","base_name":"login"}; cmd = regist_server; nextpos = 15; func = function: 000001AA3A0FE650; str_data = {"name":"login1","base_name":"login"}; json_data = table: 000001AA3A0FCB10;
	[C]: in function 'xpcall',	 params:
	service_ingate.lua:84: in local 'f',	 params: fd = 7; msg = userdata: 0000006C21DFF300; src_msg = ; index = 3; nextpos = 3; func = function: 000001AA3A0E6900;
	./lualib/moon\socket.lua:126: in local 'dispatch',	 params: msg = userdata: 0000006C21DFF300; fd = 7; sdt = 3; f = function: 000001AA3A0E63B0;
	./lualib/moon.lua:431: in function <./lualib/moon.lua:392>,	 params: msg = userdata: 0000006C21DFF300; PTYPE = 4; p = table: 000001AA3A0FDA10; sender = 7; session = 0; sz = userdata: 000001AA393F1B9E; len = 54; dispatch = function: 000001AA3A0FD710;	(service_ingate.lua:44)
2022-04-19 17:02:46.878 | 11208     | WARN  | Received signal code 100 (server.cpp:62)
2022-04-19 17:02:46.879 | :05000001 | INFO  | [WORKER 5] destroy service [ingate2] 
2022-04-19 17:02:46.879 | :04000001 | INFO  | [WORKER 4] destroy service [ingate1] 
2022-04-19 17:02:46.879 | :02000001 | INFO  | [WORKER 2] destroy service [gate2] 
2022-04-19 17:02:46.879 | :01000001 | INFO  | [WORKER 1] destroy service [bootstrap] 
2022-04-19 17:02:46.879 | :03000001 | INFO  | [WORKER 3] destroy service [gate3] 
2022-04-19 17:02:46.879 | :01000002 | INFO  | [WORKER 1] destroy service [gate1] 
2022-04-19 17:02:46.880 | 8984      | INFO  | WORKER-6 STOP
2022-04-19 17:02:46.881 | 9928      | INFO  | WORKER-5 STOP
2022-04-19 17:02:46.881 | 5952      | INFO  | WORKER-4 STOP
2022-04-19 17:02:46.881 | 12820     | INFO  | WORKER-3 STOP
2022-04-19 17:02:46.881 | 13640     | INFO  | WORKER-2 STOP
2022-04-19 17:02:46.881 | 23452     | INFO  | WORKER-1 STOP
2022-04-19 17:02:46.881 | 11208     | INFO  | STOP
